<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://skoczen.github.io/will/backends/execution/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Decisions and Execution</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/style.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Will</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Get Started</a>
                </li>
            
            
            
                <li >
                    <a href="../../upgrading_to_2/">Upgrade to 2.0</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Teach Your Will <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../plugins/basics/">The Basics</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/notice/">What Will Can Notice</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/reply/">How Will Can Respond</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/create/">Creating and Organizing Plugins</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/builtins/">Plugin Builtins</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/bundled/">Bundled Plugins</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../config/">Configure</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Brain <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../overall/">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../io/">Noticing and Talking</a>
                        </li>
                    
                        <li >
                            <a href="../analysis/">Analysis and Context</a>
                        </li>
                    
                        <li >
                            <a href="../generation/">Generation</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Decisions and Execution</a>
                        </li>
                    
                        <li >
                            <a href="../pubsub/">Pubsub and short-term memory</a>
                        </li>
                    
                        <li >
                            <a href="../storage/">Storage and long-term memory</a>
                        </li>
                    
                        <li >
                            <a href="../encryption/">Encryption and privacy</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../deploy/">Deploy</a>
                </li>
            
            
            
                <li >
                    <a href="../../improve/">Improve</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../releases/">Releases</a>
                        </li>
                    
                        <li >
                            <a href="../../roadmap/">Roadmap</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../generation/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../pubsub/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/skoczen/will/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#execution-backends">Execution Backends</a></li>
        
            <li><a href="#overview">Overview</a></li>
        
            <li><a href="#choosing-your-backends">Choosing your backends</a></li>
        
            <li><a href="#setting-your-backends">Setting your backends</a></li>
        
            <li><a href="#contributing-a-new-backend">Contributing a new backend</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="execution-backends">Execution Backends</h1>
<h2 id="overview">Overview</h2>
<p>After we've thought of all the possibilities, we then have to decide what we want to do or say.  That's where Will's execution backends come in.</p>
<p>They take the context created by <code>analysis</code>, and the options created by <code>generation</code>, and make a decision on what to do.</p>
<p>Will has the following execution backends built-in, and it's easy to make your own or contribute one to the project:</p>
<ul>
<li>All (<code>will.backends.execution.all</code>)</li>
<li>Best Score (<code>will.backends.execution.best_score</code>)</li>
</ul>
<h2 id="choosing-your-backends">Choosing your backends</h2>
<p>Here's a bit more about the built-ins, and when they'd be a good fit:</p>
<h3 id="all-willbackendsexecutionall">All (<code>will.backends.execution.all</code>)</h3>
<p><img alt="All the things" src="../../img/all_the_things.jpg" /></p>
<p>This is Will's crazy, do-everything mode.  He'll take every idea he got in the generation cycle and do <em>all</em> of them.  Why?  Because he's crazy like that.</p>
<p>Or, more likely, because you've built a custom generation backend that limits him down to a set of options you always want done.</p>
<h3 id="best-score-willbackendsexecutionbest_score">Best Score (<code>will.backends.execution.best_score</code>)</h3>
<p>This is the right fit for most people, and it's the most similar to how our brains work.  Will looks at the options he has, and picks the single one he thinks is the best.</p>
<h2 id="setting-your-backends">Setting your backends</h2>
<p>To set your execution backends, just update the following in <code>config.py</code></p>
<pre><code class="python"># The &quot;decision making&quot; backends that look among the generated choices,
# and decide which to follow. Backends are executed in order, and any
# backend can stop further evaluation.
EXECUTION_BACKENDS = [
    &quot;will.backends.execution.best_score&quot;,
    # &quot;will.backends.execution.all&quot;,
]
</code></pre>

<h2 id="contributing-a-new-backend">Contributing a new backend</h2>
<p>Writing a new execution backend is reasonably straightforward - simply subclass <code>ExecutionBackend</code>, and implement <code>handle_execution</code>, making sure to call <code>self.execute(option)</code> for the option(s) you choose.:</p>
<pre><code class="python">from will.backends.execution.base import ExecutionBackend


class MyRandomExecutionBackend(ExecutionBackend):

    def handle_execution(self, message):
        random_option = random.choice(message.generation_options)
        self.execute(random_option)

</code></pre>

<p>From there, just test it out, and when you're ready, submit a <a href="https://github.com/skoczen/will/pulls">pull request!</a></p>
<p>That's it for Will's decision making.  If you'd like a little more esoteric deep-dive, let's look at how his <a href="../../backends/pubsub">short-term memory (pubsub)</a>.</p></div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>